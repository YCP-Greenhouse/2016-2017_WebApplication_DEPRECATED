<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
        .highlight table td { padding: 5px; }
        .highlight table pre { margin: 0; }
        .highlight, .highlight .w {
            color: #f8f8f2;
            background-color: #272822;
        }
        .highlight .err {
            color: #272822;
            background-color: #f92672;
        }
        .highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
            color: #75715e;
        }
        .highlight .cp {
            color: #f4bf75;
        }
        .highlight .nt {
            color: #f4bf75;
        }
        .highlight .o, .highlight .ow {
            color: #f8f8f2;
        }
        .highlight .p, .highlight .pi {
            color: #f8f8f2;
        }
        .highlight .gi {
            color: #a6e22e;
        }
        .highlight .gd {
            color: #f92672;
        }
        .highlight .gh {
            color: #66d9ef;
            background-color: #272822;
            font-weight: bold;
        }
        .highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
            color: #ae81ff;
        }
        .highlight .kc {
            color: #fd971f;
        }
        .highlight .kt {
            color: #fd971f;
        }
        .highlight .kd {
            color: #fd971f;
        }
        .highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
            color: #a6e22e;
        }
        .highlight .sr {
            color: #a1efe4;
        }
        .highlight .si {
            color: #cc6633;
        }
        .highlight .se {
            color: #cc6633;
        }
        .highlight .nn {
            color: #f4bf75;
        }
        .highlight .nc {
            color: #f4bf75;
        }
        .highlight .no {
            color: #f4bf75;
        }
        .highlight .na {
            color: #66d9ef;
        }
        .highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
            color: #a6e22e;
        }
        .highlight .ss {
            color: #a6e22e;
        }
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="javascripts/all.js"></script>
</head>

<body class="index" data-languages="[&quot;javascript&quot;]">
<a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
</a>
<div class="tocify-wrapper">
    <img src="images/logo.png" alt="Logo" />
    <div class="lang-selector">
        <a href="#" data-language-name="javascript">javascript</a>
    </div>
    <div class="search">
        <input type="text" class="search" id="input-search" placeholder="Search">
    </div>
    <ul class="search-results"></ul>
    <div id="toc">
    </div>
</div>
<div class="page-wrapper">
    <div class="dark-box"></div>
    <div class="content">
        <h1 id="introduction">Introduction</h1>

        <p>Welcome to the Capstone Greenhouse API! You can use our API to access greenhouse API endpoints, which can get information on sensor readings, current greenhouse state and automation parameters.</p>

        <h1 id="state">State</h1>

        <h2 id="get-greenhouse-state">Get Greenhouse State</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">getState</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Get state using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'api/state'</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Use data how you want</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The HTTP request returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"heater"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pump"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lights"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fans"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vents"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"shades"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <p>This endpoint retrieves the current state of the lights, heater, water pump, fans, vents and shades inside the greenhouse.</p>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">GET http://example.com/api/state</code></p>

        <h2 id="set-greenhouse-state">Set Greenhouse State</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">setState</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Set state using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'/api/state'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">heater</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">pump</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">lights</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">fans</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">vents</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">shades</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">apikey</span><span class="p">:</span> <span class="s1">'Your API key'</span> <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The above command returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"heater"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pump"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lights"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fans"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vents"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"shades"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <p>This endpoint receives a JSON object to set the lights, heater, water pump and fans on or off and the vents and shades open or closed. It returns a JSON object to verify the change was made.</p>

        <p>The endpoint will only accept data sent with a valid API key. For example:</p>

        <p><code class="prettyprint">apikey: greenhouse-api-key</code></p>

        <aside class="notice">
            You must replace <code>greenhouse-api-key</code> with your personal API key.
        </aside>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">POST http://example.com/api/state</code></p>

        <h1 id="sensors">Sensors</h1>

        <h2 id="get-sensor-data">Get Sensor Data</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">getSensorValues</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Get sensor data using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'api/sensors'</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Use data how you want</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The HTTP request returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:32:54"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8310</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mi">87</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8290</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">86.8</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8302</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">85.6</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8300</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">87.1</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">70</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8420</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mi">87</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8320</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">87.2</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8315</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">86.7</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8312</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mi">87</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
        <p>This endpoint returns an array of JSON objects with the values of each sensor for each sensor zone. Each object returns the time sampled, zoneID, light, temperature, humidity and soil moisture probe values. By default, the most recent values for each zone are returned but the API can return more specific values using the parameters listed below:</p>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">GET http://example.com/api/sensors</code></p>

        <h3 id="query-parameters">Query Parameters</h3>

        <table><thead>
        <tr>
            <th>Parameter</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead><tbody>
        <tr>
            <td>id</td>
            <td>null</td>
            <td>If set to a value [1-8], the API will return values for the zone with that id. Returns values for all 8 zones when null.</td>
        </tr>
        <tr>
            <td>time</td>
            <td>null</td>
            <td>If set to a value [d,m,y,a], the result will include all values from the previous day, week, month, year or all values. Returns the latest input when null.</td>
        </tr>
        </tbody></table>

        <h2 id="post-sensor-data">Post Sensor Data</h2>

        <p>This endpoint is used to receive sensor data and return the latest sensor values for all 8 zones. It takes an array of JSON objects and an API key.</p>

        <p>The endpoint will only accept data sent with a valid API key. For example:</p>

        <p><code class="prettyprint">apikey: greenhouse-api-key</code></p>

        <aside class="notice">
            You must replace <code>greenhouse-api-key</code> with your personal API key.
        </aside>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">POST http://example.com/api/sensors</code></p>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">postSensorValues</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">sensors</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">4892</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">78</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">63</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">5682</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">79</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">4892</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">78</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">63</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">7753</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">84</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">62</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">6273</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">81</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">68</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">7012</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">79</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">63</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">5239</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">77</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">66</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"zone"</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">"light"</span><span class="p">:</span> <span class="mi">5593</span><span class="p">,</span> <span class="s2">"temperature"</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">"humidity"</span><span class="p">:</span> <span class="mi">58</span><span class="p">,</span> <span class="s2">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span> <span class="s2">"probe2"</span><span class="p">:</span> <span class="mi">44</span> <span class="p">}</span>
    <span class="p">];</span>

    <span class="c1">// Post sensor data using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'api/sensors'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="nx">sensors</span><span class="p">,</span> <span class="na">apikey</span><span class="p">:</span> <span class="s1">'Your API key'</span> <span class="p">},</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Use data how you want</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The HTTP request returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:32:54"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8310</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mi">87</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8290</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">86.8</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8302</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">85.6</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8300</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">87.1</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">70</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8420</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mi">87</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8320</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">87.2</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8315</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mf">86.7</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">72</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="p">,</span><span class="nt">"zone"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="nt">"light"</span><span class="p">:</span><span class="mi">8312</span><span class="p">,</span><span class="nt">"temperature"</span><span class="p">:</span><span class="mi">87</span><span class="p">,</span><span class="nt">"humidity"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="nt">"probe1"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="nt">"probe2"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
        <h1 id="automation">Automation</h1>

        <h2 id="get-automation-settings">Get Automation Settings</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">getAutomationSettings</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Get automation settings using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'api/automation'</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Use data how you want</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The HTTP request returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"light"</span><span class="p">:</span><span class="s2">"9999"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"temp-low"</span><span class="p">:</span><span class="s2">"60"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"temp-high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"humidity"</span><span class="p">:</span><span class="s2">"70"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"moisture"</span><span class="p">:</span><span class="s2">"60"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lightschedule"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"waterschedule"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <p>This endpoint returns a JSON object with the greenhouse automation limits and schedules.</p>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">GET http://example.com/api/automation</code></p>

        <h2 id="set-automation-settings">Set Automation Settings</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">setAutomationSettings</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Set state using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'/api/automation'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">light</span><span class="p">:</span> <span class="s2">"9999"</span><span class="p">,</span> <span class="nx">temp</span><span class="o">-</span><span class="na">low</span><span class="p">:</span> <span class="s2">"60"</span><span class="p">,</span> <span class="nx">temp</span><span class="o">-</span><span class="na">high</span><span class="p">:</span> <span class="s2">"90"</span><span class="p">,</span> <span class="na">humidity</span><span class="p">:</span> <span class="s2">"70"</span><span class="p">,</span> <span class="na">moisture</span><span class="p">:</span> <span class="s2">"60"</span><span class="p">,</span> <span class="na">lightschedule</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span> <span class="na">zone</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span> <span class="na">start</span><span class="p">:</span> <span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span> <span class="na">hours</span><span class="p">:</span> <span class="s2">"5"</span> <span class="p">},</span>
          <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span> <span class="na">zone</span><span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span> <span class="na">start</span><span class="p">:</span> <span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span> <span class="na">hours</span><span class="p">:</span> <span class="s2">"5"</span> <span class="p">},</span>
          <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span> <span class="na">zone</span><span class="p">:</span> <span class="s2">"3"</span><span class="p">,</span> <span class="na">start</span><span class="p">:</span> <span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span> <span class="na">hours</span><span class="p">:</span> <span class="s2">"5"</span> <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">waterschedule</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span> <span class="na">zone</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span> <span class="na">start</span><span class="p">:</span> <span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span> <span class="na">hours</span><span class="p">:</span> <span class="s2">"5"</span> <span class="p">},</span>
          <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span> <span class="na">zone</span><span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span> <span class="na">start</span><span class="p">:</span> <span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span> <span class="na">hours</span><span class="p">:</span> <span class="s2">"5"</span> <span class="p">},</span>
          <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span> <span class="na">zone</span><span class="p">:</span> <span class="s2">"3"</span><span class="p">,</span> <span class="na">start</span><span class="p">:</span> <span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span> <span class="na">hours</span><span class="p">:</span> <span class="s2">"5"</span> <span class="p">}</span>
        <span class="p">],</span> <span class="na">apikey</span><span class="p">:</span> <span class="s1">'Your API key'</span> <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The above command returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"light"</span><span class="p">:</span><span class="s2">"9999"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"templow"</span><span class="p">:</span><span class="s2">"60"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"temphigh"</span><span class="p">:</span><span class="s2">"90"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"humidity"</span><span class="p">:</span><span class="s2">"70"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"moisture"</span><span class="p">:</span><span class="s2">"60"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lightschedule"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"waterschedule"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 00:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017/02/01 05:00:00"</span><span class="p">,</span><span class="w"> </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <p>This endpoint receives a JSON object to set the desired light intensity, temperature, humidity, soil moisture, and light/water schedules. It returns a JSON object to verify the change was made.</p>

        <p>The endpoint will only accept data sent with a valid API key. For example:</p>

        <p><code class="prettyprint">apikey: greenhouse-api-key</code></p>

        <aside class="notice">
            You must replace <code>greenhouse-api-key</code> with your personal API key.
        </aside>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">POST http://example.com/api/automation</code></p>

        <h1 id="error-messages">Error Messages</h1>

        <h2 id="get-last-error-message">Get Last Error Message</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">getLastError</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Get last error using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'api/error'</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Use data how you want</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The HTTP request returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"101"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Heater won't turn off."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"time"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <p>This endpoint returns a JSON object with the latest error information.</p>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">GET http://example.com/api/error</code></p>

        <h2 id="post-error-message">Post Error Message</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">setAutomationSettings</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Report error using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'/api/error'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">code</span><span class="p">:</span> <span class="s2">"101"</span><span class="p">,</span> <span class="na">message</span><span class="p">:</span> <span class="s2">"Heater won't turn off."</span><span class="p">,</span> <span class="na">apikey</span><span class="p">:</span> <span class="s1">'Your API key'</span><span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The above command returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"101"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Heater won't turn off."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"time"</span><span class="p">:</span><span class="s2">"2017/01/26 01:01:38"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <p>This endpoint receives a JSON object to with an error code and message and returns a JSON object with either the latest error information or an error message.</p>

        <p>The endpoint will only accept data sent with a valid API key. For example:</p>

        <p><code class="prettyprint">apikey: greenhouse-api-key</code></p>

        <aside class="notice">
            You must replace <code>greenhouse-api-key</code> with your personal API key.
        </aside>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">POST http://example.com/api/error</code></p>

        <h1 id="weather">Weather</h1>

        <h2 id="get-weather-data">Get Weather Data</h2>
        <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">getWeatherValues</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Get sensor data using jQuery</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'api/weather'</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Use data how you want</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
        <blockquote>
            <p>The HTTP request returns JSON structured like this:</p>
        </blockquote>
        <pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="nt">"sampletime"</span><span class="p">:</span><span class="s2">"2017/02/19 23:42:08"</span><span class="p">,</span><span class="nt">"temp"</span><span class="p">:</span><span class="s2">"44.35"</span><span class="p">,</span><span class="nt">"high"</span><span class="p">:</span><span class="s2">"44.35"</span><span class="p">,</span><span class="nt">"low"</span><span class="p">:</span><span class="s2">"44.35"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
        <p>This endpoint returns all weather data from the database. Weather entries are returned as an array of JSON objects and contain the current temperature, high, low and time sampled.</p>

        <h3 id="http-request">HTTP Request</h3>

        <p><code class="prettyprint">GET http://example.com/api/weather</code></p>

    </div>
    <div class="dark-box">
        <div class="lang-selector">
            <a href="#" data-language-name="javascript">javascript</a>
        </div>
    </div>
</div>
</body>
</html>
